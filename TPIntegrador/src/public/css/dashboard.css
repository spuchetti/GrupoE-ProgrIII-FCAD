:root{
    --primary:#3498db;
    --green:#2ecc71;
    --amber:#f39c12;
    --red:#e74c3c;
    --ink:#222b36;
    --muted:#6b7785;
    --bg:#f5f7fb;
    --card:#ffffff;
    --edge:#e9edf2;
  }
  /* Dark mode variables (se activan en .dark) */
  .dark{
    --bg:#0f141b;
    --card:#111820;
    --edge:#212a34;
    --ink:#e6edf5;
    --muted:#a8b3c2;
  }
  
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    background:var(--bg);
    color:var(--ink);
    font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial;
  }
  
  header{
    position:sticky; top:0; z-index:5;
    background:var(--card);
    border-bottom:1px solid var(--edge);
    box-shadow:0 2px 14px rgba(0,0,0,.06);
  }
  .bar{
    max-width:1200px; margin:0 auto; padding:14px 20px;
    display:flex; gap:12px; align-items:center; justify-content:space-between;
  }
  .title{font-weight:700; font-size:22px}
  
  .actions{display:flex; align-items:center; gap:8px}
  .pill{
    font-size:12px; padding:6px 10px; border-radius:999px;
    border:1px solid var(--edge); background:var(--card); color:var(--muted);
  }
  .btn{
    padding:9px 14px; border-radius:10px; border:1px solid var(--edge);
    background:var(--primary); color:#fff; font-weight:600; cursor:pointer;
  }
  .btn:disabled{opacity:.6; cursor:not-allowed}
  .btn-ghost{background:transparent; color:var(--ink)}
  .btn-ghost:hover{background:rgba(0,0,0,.05)}
  .dark .btn-ghost:hover{background:rgba(255,255,255,.06)}
  
  .container{max-width:1200px; margin:28px auto; padding:0 20px}
  
  /* KPIs */
  .kpis{display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:18px}
  .card{
    background:var(--card); border:1px solid var(--edge); border-radius:14px;
    padding:18px; box-shadow:0 6px 18px rgba(0,0,0,.04);
  }
  .k-title{color:var(--muted); font-weight:700; font-size:14px; margin-bottom:6px}
  .k-value{font-weight:800; font-size:32px}
  .t-blue{box-shadow:inset 0 4px 0 rgba(52,152,219,.35)}
  .t-green{box-shadow:inset 0 4px 0 rgba(46,204,113,.35)}
  .t-amber{box-shadow:inset 0 4px 0 rgba(243,156,18,.35)}
  .t-red{box-shadow:inset 0 4px 0 rgba(231,76,60,.35)}
  
  /* Charts */
  .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-top:22px}
  .chart-card{height:360px}
  .chart-card h3{font-size:20px; margin-bottom:12px}
  .chart-wrap{position:relative; height:300px} /* ← controla tamaño */
  
  /* Tabla */
  .block-title{
    margin:28px 0 10px; font-family:Georgia,serif; font-weight:800; font-size:30px;
    text-align:center;
  }
  table{width:100%; border-collapse:collapse}
  thead th{
    text-transform:uppercase; letter-spacing:.06em; font-size:13px; color:var(--muted);
    background:var(--card); border-top-left-radius:8px; border-top-right-radius:8px;
  }
  th,td{padding:14px 16px; border-bottom:1px solid var(--edge)}
  tbody tr:nth-child(even){background:rgba(0,0,0,.02)}
  .dark tbody tr:nth-child(even){background:rgba(255,255,255,.03)}

  
  .table-wrap {
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
    overflow-y: auto;
    max-height: 70vh;
    border: 1px solid var(--edge);
    border-radius: 8px;
    margin-top: 1rem;
  }

  
  .table-wrap table {
    min-width: 800px;
  }

  
  .table-wrap thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    background: var(--card);
  }

  .table-wrap::-webkit-scrollbar {
    height: 8px;
    width: 8px;
  }
  .table-wrap::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  
  /* Administración */
  .admin{margin-top:28px}
  .admin h2{font-family:Georgia,serif; font-size:32px; text-align:center; margin-bottom:14px}
  .admin .btn-row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-bottom:14px}
  .admin .btn-row .btn{min-width:260px}
  .filters{display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; margin-top:12px}
  .filters label{color:var(--muted); font-weight:600}
  .filters input{
    padding:9px 10px; border:1px solid var(--edge); border-radius:8px;
    background:var(--card); color:var(--ink); width:170px;
  }
  .filters .small{width:120px}
  .result-panel{margin-top:16px; background:var(--card); border:1px solid var(--edge); border-radius:12px; padding:14px}
  
  /* Modal login */
  .overlay{
    position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:20;
  }
  .overlay.show{display:flex}
  .modal{
    background:var(--card); border:1px solid var(--edge); border-radius:16px; width:min(92vw,540px);
    padding:26px 22px 20px; box-shadow:0 24px 80px rgba(0,0,0,.35);
  }
  .modal h3{font-size:28px; text-align:center; margin-bottom:16px}
  .login-grid{display:grid; gap:12px}
  .input{
    padding:12px 14px; border:1.5px solid var(--edge); border-radius:10px; background:var(--card); color:var(--ink)
  }
  .error{color:#ff6b6b; font-size:13px; min-height:18px}
  
  /* small screens */
  @media (max-width:900px){
    .kpis{grid-template-columns:1fr 1fr}
    .grid-2{grid-template-columns:1fr}
  }
  